<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>(draft) Notes</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
  </style>
  <link rel="stylesheet" href="/makebakery/_/css/bootstrap-3.4.1.min.css" />
  <link rel="stylesheet" href="/makebakery/_/css/bootstrap-theme-3.4.1.min.css" />
  <link rel="stylesheet" href="/makebakery/_/css/style.css" />
</head>
<body>

<nav class="navbar navbar-inverse navbar-fixed-top">
  <div class="container">

    <a href="https://github.com/datagrok/makebakery"><img style="position: absolute; top: 0; right: 0; border: 0;" src="/makebakery/_/img/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"></a>

    <div class="navbar-header">
      <button type="button" class="btn btn-default navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="glyphicon glyphicon-folder-open"></span>
      </button>
      <a class="navbar-brand" href="/makebakery/">makebakery</a>
    </div>

    <div class="navbar-collapse collapse">
      <ul class="nav navbar-nav"></ul>
    </div>

  </div>
</nav>

<!-- Let's not demo the breadcrumb navigation until it works automatically.
<div class="container">
  <ol class="breadcrumb">
    <li><a href="#"></a></li>
    <li><a href="#">Library</a></li>
    <li class="active">Data</li>
  </ol>
</div>
-->

<div class="container">

<header id="title-block-header">
<h1 class="title">(draft) Notes</h1>
</header>
<p>I’m working on cleaning up the documentation for Makebakery. This page serves as a scratch buffer while I move things around. Pardon the mess!</p>
<h3 id="theory-of-operation">Theory of operation</h3>
<p>The user creates a Makefile which defines variables appropriate for their configuration, and then <code>include makebakery.mk</code>.</p>
<p>(This keeps site-specific configuration with the site itself, so the makebakery repo may exist unmodified, treated as a library.)</p>
<p>Of particular importance is the <code>MODULES</code> variable, which is a whitespace-separated list of <em>makebakery modules</em> that should be enabled.</p>
<p>A <em>makebakery module</em> is a file or subdirectory containing Make-syntax code stored within the <code>modules</code> directory.</p>
<p>A source file may be processed multiple times, according to its filename extension. At each step, one layer of filename extension is removed. For example, with the <code>executable</code>, <code>pandoc</code>, and <code>__paths_are_dirs</code> modules enabled, a file named<br />
<code>foo.html.md.run</code> would be executed and have its output captured to obtain<br />
<code>foo.html.md</code>, then processed by pandoc to obtain<br />
<code>foo.html</code>, then renamed to obtain<br />
<code>foo/index.html</code>.</p>
<p>Modules are responsible for defining or modifying the variable <code>targets</code>, which names all the files that should be rendered to generate the static site. Modules also define rules for rendering those target files from (perhaps intermediate) source files.</p>
<p>Modules have an “in” and an “out” section. Modules’ “in” sections are processed in alphanumeric order, then their “out” sections are processed in reverse alphanumeric order. You can think of it like an onion: each module is a “layer” that wraps the next.</p>
<p>A typical set of MODULES might include:</p>
<ul>
<li>either __source or __multisource to get source files from the filesystem</li>
<li>possibly __paths_are_dirs or extensionless_html to keep .html filename extensions out of URLs,</li>
<li>one or more rendering engines for HTML pages, like pandoc or _m4, and</li>
<li>possibly a processing engine like sass to make authoring css easier.</li>
</ul>

</div> <!-- /container -->

<!-- Le javascript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="/makebakery/_/js/jquery-3.6.0.min.js"></script>
<script src="/makebakery/_/js/bootstrap-3.4.1.min.js"></script>

<!--  Get some other variables useful to javascript into the page context. -->
<script type="text/javascript">
  var site_root = "/makebakery/";
</script>

<!--  this is where we put our custom functions -->
<script src="/makebakery/_/js/functions.js"></script>

</body>
</html>
